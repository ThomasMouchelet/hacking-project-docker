(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){"use strict";n.r(t);var a=n(11),c=n(6),r=n.n(c),s=n(35),o=n(9),i=n(5),u=n(2),l=n.n(u),j=n(33),d=n.n(j),b=n(24),p=n(15),O=n.n(p),h=n(16),m="http://localhost:8000/api",f="".concat(m,"/login_check"),v="".concat(m,"/users"),g="".concat(m,"/challenges"),x="".concat(m,"/valid_challenges"),w="".concat(m,"/teams"),k="".concat(m,"/students");function y(e){O.a.defaults.headers.Authorization="Bearer "+e}var S={authenticate:function(e){return console.log("LOGIN_API",f),O.a.post(f,e).then((function(e){return e.data.token})).then((function(e){window.localStorage.setItem("authToken",e),y(e)}))},logout:function(){window.localStorage.removeItem("authToken"),delete O.a.defaults.headers.Authorization},setup:function(){var e=window.localStorage.getItem("authToken");e&&1e3*Object(h.a)(e).exp>(new Date).getTime()&&y(e)},isAuthenticated:function(){var e=window.localStorage.getItem("authToken");return!!e&&1e3*Object(h.a)(e).exp>(new Date).getTime()}},C=l.a.createContext({isAuthenticated:!1,setIsAuthenticated:function(e){}}),T=n(12);function A(){var e=window.localStorage.getItem("authToken");if(e)return Object(h.a)(e).id}var I={findActiveChallenge:function(){var e=A();return O.a.get("".concat(v,"/").concat(e,"/challenge")).then((function(e){return e.data}))},getUserID:A,getType:function(){var e=window.localStorage.getItem("authToken");if(e)return Object(h.a)(e).studentID?"student":"team"},getTeamID:function(){var e=window.localStorage.getItem("authToken");if(e)return Object(h.a)(e).teamID},getStudentID:function(){var e=window.localStorage.getItem("authToken");if(e)return Object(h.a)(e).studentID},getStudentTeamID:function(){var e=window.localStorage.getItem("authToken");if(e)return Object(h.a)(e).studentTeamID},isAdmin:function(){var e=window.localStorage.getItem("authToken");if(e)return!!Object(h.a)(e).roles.includes("ROLE_ADMIN")},getFirstName:function(){var e=window.localStorage.getItem("authToken");if(e)return Object(h.a)(e).firstName},getSecretKey:function(){var e=window.localStorage.getItem("authToken");if(e)return Object(h.a)(e).secretKey}},N=n(18),D=(n(31),n(3)),E=function(){var e=Object(T.g)(),t=Object(u.useState)({username:"",password:""}),n=Object(i.a)(t,2),c=n[0],s=n[1],l=Object(u.useContext)(C).setIsAuthenticated,j=Object(u.useState)(""),d=Object(i.a)(j,2),p=(d[0],d[1]),O=function(e){var t=e.currentTarget,n=t.value,r=t.name;s(Object(a.a)(Object(a.a)({},c),{},Object(b.a)({},r,n)))},h=function(){var t=Object(o.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,S.authenticate(c);case 4:l(!0),I.isAdmin()?(Object(N.b)("\ud83e\udd84 Bravo jeune hacker, valide ta team pour terminer.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.replace("admin")):(Object(N.b)("\ud83e\udd84 Que la force de la licorne soit avec toi !",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.replace("challenge")),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),p("Identifiant ou mot de passe incorrect"),N.b.error("Identifiant ou mot de passe incorrect");case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(D.jsx)("div",{className:"window login-page",children:Object(D.jsxs)("form",{onSubmit:h,className:"terminal",children:[Object(D.jsx)("input",Object(b.a)({type:"text",placeholder:"username",onChange:O,value:c.username,name:"username"},"placeholder","t.mouchelet")),Object(D.jsx)("input",{type:"password",placeholder:"password",onChange:O,name:"password"}),Object(D.jsx)("button",{type:"submit",className:"btn btn-success",children:"connect"})]})})};var P={findOne:function(e){return O.a.get("".concat(w,"/").concat(e)).then((function(e){return e.data}))},findAllTeams:function(){return O.a.get("".concat(w)).then((function(e){return e.data["hydra:member"]}))},getName:function(){var e=window.localStorage.getItem("authToken");if(e)return Object(h.a)(e).name},updateTeam:function(e){var t={id:parseInt(e),completedAt:new Date};return O.a.put("".concat(w,"/").concat(t.id),t).then((function(e){return e.data["hydra:member"]}))}};var L={getStudentTeamID:function(){var e=window.localStorage.getItem("authToken");if(e)return Object(h.a)(e).studentTeamID},getStudentSecretKey:function(){var e=window.localStorage.getItem("authToken");if(e)return Object(h.a)(e).secretKey},getAll:function(){return O.a.get("".concat(k)).then((function(e){return e.data["hydra:member"]}))}},K=function(){var e=Object(u.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(u.useState)({code1:"",code2:"",code3:""}),l=Object(i.a)(s,2),j=l[0],d=l[1],p=Object(u.useState)(!1),O=Object(i.a)(p,2),h=O[0],m=O[1],f=Object(u.useState)(!1),v=Object(i.a)(f,2),g=v[0],x=v[1],w=Object(u.useContext)(C).setIsAuthenticated;Object(u.useEffect)((function(){S.setup();var e=I.getStudentTeamID();if(k(e),h){var t="";Object.keys(j).map((function(e,n){t+=j[e]})),t===n.secretKey&&x(!0)}}),[j]);var k=function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.findOne(t);case 3:n=e.sent,c(n),m(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),y=function(e){var t=e.currentTarget,c=t.value,r=t.name;if(d(Object(a.a)(Object(a.a)({},j),{},Object(b.a)({},r,c))),h){var s={code1:n.secretKey.slice(0,3),code2:n.secretKey.slice(3,6),code3:n.secretKey.slice(3,6)};Object.keys(s).map((function(e,n){e==t.name&&s[e]==t.value&&(t.className="valid"),e==t.name&&s[e]!=t.value&&(t.className="")}))}},T=Object(D.jsxs)("div",{className:"winMod",children:[Object(D.jsx)("button",{onClick:function(){N.b.dark(n.name,{position:"top-right",autoClose:9e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),N.b.dark("123",{position:"top-right",autoClose:9e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),S.logout(),w(!1)},children:"Team connection"}),Object(D.jsxs)("p",{children:["Password : ",Object(D.jsx)("em",{children:"123"})]})]});return Object(D.jsxs)("div",{className:"create-team",children:[Object(D.jsx)("h1",{children:"Create Team"}),Object(D.jsxs)("div",{children:["Bienvenue \xe0 vous, votre petit nom d\u2019\xe9quipe sera ",Object(D.jsx)("em",{children:h&&n.name}),Object(D.jsx)("br",{}),"Avant de commencer\u2026 il va falloir trouver qui seront vos collaborateurs.",Object(D.jsx)("br",{}),"Chacun des membres de votre \xe9quipe a simplement \xe0 entrer le code qui lui a \xe9t\xe9 confi\xe9 pr\xe9c\xe9demment dans le champs qui lui est r\xe9serv\xe9.",Object(D.jsx)("br",{}),"Pour rappel votre code secret est le suivant : ",Object(D.jsx)("em",{children:L.getStudentSecretKey()}),Object(D.jsx)("br",{}),"L'identifiant de connexion de votre team : ",Object(D.jsx)("em",{children:h&&n.name}),Object(D.jsx)("br",{}),"Bon courage !",Object(D.jsx)("br",{})]}),Object(D.jsxs)("form",{children:[Object(D.jsx)("input",{type:"text",onChange:y,name:"code1",placeholder:"code 1"}),Object(D.jsx)("input",{type:"text",onChange:y,name:"code2",placeholder:"code 2"}),Object(D.jsx)("input",{type:"text",onChange:y,name:"code3",placeholder:"code 3"})]}),g&&T]})},B=function(){var e=Object(u.useContext)(C).setIsAuthenticated;return Object(D.jsxs)("div",{children:[Object(D.jsx)("h1",{children:"Acc\xe8s admin"}),Object(D.jsx)("br",{}),Object(D.jsxs)("p",{children:["Login : ",Object(D.jsx)("em",{children:"mistert"})]}),Object(D.jsxs)("p",{children:["Vous avez trouvez une des variables du mot de passe : ",Object(D.jsx)("em",{children:"cox"})]}),Object(D.jsx)("p",{children:"Il vous manque 3 autres varibles li\xe9es \xe0 votre cible : "}),Object(D.jsxs)("ul",{children:[Object(D.jsx)("li",{children:"Le jour de naissance "}),Object(D.jsx)("li",{children:"Le mois de naissance "}),Object(D.jsx)("li",{children:"L'ann\xe9e de naissance "})]}),Object(D.jsx)("p",{children:"Une fois ces diff\xe9rentes informations rassembl\xe9es, vous devrez trouver la bonne combinaison."}),Object(D.jsx)("br",{}),Object(D.jsx)("button",{onClick:function(){N.b.dark("mistert",{position:"top-right",autoClose:9e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),N.b.dark("azerty",{position:"top-right",autoClose:9e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),S.logout(),e(!1)},children:"Admin connection"})]})},H=n(41);n(92),H.a.initializeApp({apiKey:"AIzaSyC2lJL4ixVJZ5W0o40VrbkqkdUcqGJ1ZKg",authDomain:"tchat-esd.firebaseapp.com",databaseURL:"https://tchat-esd.firebaseio.com",projectId:"tchat-esd",storageBucket:"tchat-esd.appspot.com",messagingSenderId:"480169967880",appId:"1:480169967880:web:23b546f97de24a1caa6cbd"});var _=H.a.firestore(),q=function(){var e=Object(u.useState)({message:""}),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(D.jsxs)("div",{children:[Object(D.jsx)("h2",{children:"Envoyer un message"}),Object(D.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=String(Date.now());_.collection("tchat").doc(t).set({message:n.message}),c({message:""})},className:"tchat-form",children:[Object(D.jsx)("textarea",{type:"text",placeholder:"message",onChange:function(e){var t=e.currentTarget,r=t.value,s=t.name;c(Object(a.a)(Object(a.a)({},n),{},Object(b.a)({},s,r)))},value:n.message,name:"message"}),Object(D.jsx)("button",{type:"submit",children:"Envoyer"})]})]})},z=n(34),M=n.n(z),Y=function(e){var t=e.validChallenges;return Object(D.jsx)("div",{className:"valid-challenges",children:t.map((function(e,t){return Object(D.jsxs)("div",{className:"valid-challenge",children:[Object(D.jsx)("span",{children:e.challenge.orderChallenge}),Object(D.jsxs)("span",{children:[" - ",e.challenge.name]}),Object(D.jsxs)("span",{children:[" -",Object(D.jsx)(M.a,{format:"DD/MM/YYYY - HH:mm:ss",children:e.timeToComplete})]})]},t)}))})};var V={findOne:function(e){return O.a.get("".concat(g,"/").concat(e)).then((function(e){return e.data}))},findAllChallenges:function(){return O.a.get("".concat(g)).then((function(e){return e.data["hydra:member"]}))}},F=function(e){var t=e.reload,n=Object(u.useState)(),a=Object(i.a)(n,2),c=a[0],s=a[1],l=Object(u.useState)(!1),j=Object(i.a)(l,2),d=j[0],b=j[1];Object(u.useEffect)((function(){S.setup(),S.isAuthenticated(),p()}),[t]);var p=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V.findAllChallenges();case 3:t=e.sent,s(t),b(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(D.jsx)("div",{className:"challengesDetails",children:d&&Object.values(c).map((function(e,t){return Object(D.jsxs)("div",{className:"challengeDetails",children:[Object(D.jsx)("input",{type:"text",value:e.name}),Object(D.jsx)("input",{type:"text",value:e.orderChallenge}),Object(D.jsx)("input",{type:"text",value:e.answer}),Object(D.jsx)("textarea",{cols:"30",rows:"10",children:e.description})]},t)}))})},J=function(e){var t=e.teams;e.setTeams;return Object(D.jsx)("div",{children:Object(D.jsx)("ul",{children:t.map((function(e){return Object(D.jsxs)("li",{children:[Object(D.jsxs)("strong",{children:[e.name," :"]}),e.completedAt?Object(D.jsx)("span",{children:Object(D.jsx)(M.a,{format:"DD/MM/YYYY - HH:mm:ss",children:e.completedAt})}):Object(D.jsx)("span",{children:"--"})]},e.id)}))})})},R=function(){var e=Object(u.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(u.useState)(null),s=Object(i.a)(c,2),l=s[0],j=s[1];Object(u.useEffect)((function(){d()}),[]);var d=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.findAllTeams();case 3:t=e.sent,a(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,P.updateTeam(l);case 4:d(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(D.jsxs)("div",{children:[Object(D.jsx)("h2",{children:"Valider ma team"}),Object(D.jsxs)("form",{action:"",className:"tchat-form",onSubmit:b,children:[Object(D.jsxs)("select",{name:"team",onChange:function(e){var t=e.currentTarget;j(t.value)},children:[Object(D.jsx)("option",{children:"-- SELECT TEAM --"}),n.map((function(e){return Object(D.jsx)("option",{value:e.id,children:e.name})}))]}),Object(D.jsx)("button",{type:"submit",children:"Valider"})]}),Object(D.jsx)(J,{teams:n,setTeams:a})]})},U=function(){var e=Object(u.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],l=Object(u.useState)(!1),j=Object(i.a)(l,2),d=j[0],p=j[1],O=Object(u.useState)(!1),h=Object(i.a)(O,2),m=h[0],f=h[1],v=Object(u.useState)({playing:!1,controls:!1}),g=Object(i.a)(v,2),x=g[0],w=g[1],k=Object(u.useState)({nyancat:!1}),y=Object(i.a)(k,2),C=y[0],T=y[1];Object(u.useEffect)((function(){S.setup(),S.isAuthenticated(),A(),I(),N()}),[m]);var A=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.findAllTeams();case 3:t=e.sent,c(Object(s.a)(t)),p(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.collection("video").doc("mistert").onSnapshot((function(e){var t=e.data();w(t)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.collection("game").doc("options").onSnapshot((function(e){var t=e.data();T(t)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(e){var t=e.currentTarget,n=t.id,c="true"===t.dataset.action,r=Object(a.a)(Object(a.a)({},x),{},Object(b.a)({},n,c));w(r),_.collection("video").doc("mistert").set(r)};return Object(D.jsxs)("div",{className:"admin-page",children:[Object(D.jsxs)("div",{className:"header-admin",children:[Object(D.jsx)("h1",{children:"AdminPage "}),x.playing?Object(D.jsx)("button",{onClick:E,id:"playing","data-action":"false",children:"Pause video"}):Object(D.jsx)("button",{onClick:E,id:"playing","data-action":"true",children:"Play video"}),x.controls?Object(D.jsx)("button",{onClick:E,id:"controls","data-action":"false",children:"Controls OFF"}):Object(D.jsx)("button",{onClick:E,id:"controls","data-action":"true",children:"Controls ON"}),Object(D.jsx)("button",{onClick:function(e){e.currentTarget;var t=Object(a.a)(Object(a.a)({},C),{},{nyancat:!0});T(t),_.collection("game").doc("options").set(t),setTimeout((function(){_.collection("game").doc("options").set(Object(a.a)(Object(a.a)({},C),{},{nyancat:!1}))}),4e3)},id:"nyancat","data-action":"true",children:"SPAWN CAT"}),Object(D.jsx)("button",{onClick:function(){f(!0),setTimeout((function(){f(!1)}),200)},children:"RELOAD DATA"})]}),Object(D.jsxs)("div",{className:"row",children:[Object(D.jsx)(q,{}),Object(D.jsx)(R,{})]}),Object(D.jsxs)("div",{className:"row",children:[Object(D.jsxs)("div",{className:"challenges-admin",children:[Object(D.jsx)("h2",{children:"Challenges"}),Object(D.jsx)(F,{reload:m})]}),Object(D.jsxs)("div",{className:"logs",children:[Object(D.jsx)("h2",{children:"Logs"}),d&&n.map((function(e,t){return Object(D.jsxs)("div",{className:"team",children:[Object(D.jsxs)("h3",{children:[e.name," ",Object(D.jsxs)("span",{children:[" - SK : ",e.secretKey]})," "]}),Object(D.jsx)(Y,{validChallenges:e.validChallenges}),Object(D.jsx)("div",{className:"students",children:Object.values(e.students).map((function(e,t){return Object(D.jsxs)("div",{className:"student",children:[Object(D.jsx)("span",{children:e.firstName}),Object(D.jsxs)("span",{children:[" ",e.lastName]}),Object(D.jsxs)("span",{children:[" - SK : ",e.secretKey]}),Object(D.jsx)(Y,{validChallenges:e.validChallenges})]},t)}))})]},t)}))]})]})]})},G=function(){var e=Object(u.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(u.useState)(null),s=Object(i.a)(c,2),l=s[0],j=s[1];Object(u.useEffect)((function(){d()}),[n]);var d=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.getAll();case 3:t=e.sent,console.log(t),j(t),a(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(D.jsx)("div",{className:"studentList",children:n&&Object.values(l).map((function(e,t){return Object(D.jsxs)("div",{children:[e.firstName," ",e.lastName," : ",e.user.username]},t)}))})},W=function(e){var t=e.path,n=e.component;return Object(u.useContext)(C).isAuthenticated&&!I.isAdmin()?Object(D.jsx)(T.b,{path:t,component:n}):Object(D.jsx)(T.a,{to:"/"})},Z=function(e){var t=e.path,n=e.component;return Object(u.useContext)(C).isAuthenticated&&I.isAdmin()?Object(D.jsx)(T.b,{path:t,component:n}):Object(D.jsx)(T.a,{to:"/"})};var Q={createValidChallenge:function(e){var t=I.getType(),n={challenge:"api/challenges/".concat(e),timeToComplete:new Date};return"student"===t&&(n=Object(a.a)(Object(a.a)({},n),{},{student:"api/students/".concat(I.getStudentID())})),"team"===t&&(n=Object(a.a)(Object(a.a)({},n),{},{team:"api/teams/".concat(I.getTeamID())})),O.a.post("".concat(x),n).then((function(e){return e}))}},X=function(e){var t=e.description,n=Object(u.useState)(""),a=Object(i.a)(n,2),c=a[0],r=a[1];return Object(u.useEffect)((function(){var e=I.getType(),n="student"===e?I.getFirstName():P.getName(),a="student"===e?I.getSecretKey():"",c=t.toString().replace(/{namingGame}/g,n).replace(/{secretKey}/g,a);r(c)}),[t]),Object(D.jsx)("div",{className:"description",children:Object(D.jsx)("p",{dangerouslySetInnerHTML:{__html:c}})})},$=function(){var e=Object(T.g)(),t=Object(u.useState)({id:"",name:"",description:""}),n=Object(i.a)(t,2),a=n[0],c=n[1],s=Object(u.useState)(""),l=Object(i.a)(s,2),j=l[0],d=l[1],b=Object(u.useState)(""),p=Object(i.a)(b,2),O=p[0],h=p[1],m=Object(u.useState)(!0),f=Object(i.a)(m,2),v=f[0],g=f[1],x=Object(u.useState)(!1),w=Object(i.a)(x,2),k=w[0],y=w[1];Object(u.useEffect)((function(){S.setup(),C(),k&&(O.toLowerCase()===j?g(!1):g(!0))}),[O]);var C=function(){var t=Object(o.a)(r.a.mark((function t(){var n,a,s,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.findActiveChallenge();case 3:if("complete"!==(n=t.sent)){t.next=10;break}a=I.getType(),s="student"===a?"create_team":"final_page",e.replace(s),t.next=16;break;case 10:return t.next=12,V.findOne(n);case 12:o=t.sent,c({id:o.id,name:o.name,description:o.description}),d(o.answer),y(!0);case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),console.log(t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(){return t.apply(this,arguments)}}(),A=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),j!==O){e.next=12;break}return e.prev=2,e.next=5,Q.createValidChallenge(a.id);case 5:h(""),C(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(D.jsxs)("div",{children:[Object(D.jsx)("h1",{children:k&&a.name}),k&&Object(D.jsx)(X,{description:a.description}),Object(D.jsxs)("form",{onSubmit:A,children:[Object(D.jsx)("input",{type:"text",placeholder:"r\xe9ponse",name:"answer",onChange:function(e){var t=e.currentTarget.value.toLowerCase();h(t)},onPaste:function(e){h(e.clipboardData.getData("Text"))},value:O}),Object(D.jsx)("input",{type:"submit",value:"valider",disabled:v})]})]})},ee=n(25),te=n(56),ne=n.n(te),ae=function(){var e=Object(u.useState)("http://icri5960.odns.fr/hacking-project/assets/mistert.mp4"),t=Object(i.a)(e,2),n=t[0],a=(t[1],Object(u.useRef)()),c=Object(u.useState)(!1),s=Object(i.a)(c,2),l=s[0],j=s[1],d=Object(u.useState)(!1),b=Object(i.a)(d,2),p=b[0],O=b[1];Object(u.useEffect)((function(){h()}),[l,p]);var h=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.collection("video").doc("mistert").onSnapshot((function(e){var t=e.data();j(t.playing),O(t.controls)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(D.jsxs)("div",{className:"videoPage",children:[Object(D.jsx)(ee.b,{className:"btn btn-success",to:"/login",children:"Login"}),Object(D.jsx)(ne.a,{ref:a,className:"react-player",width:"100%",height:"100%",url:n,playing:l,controls:p})]})},ce=(n(113),n(114),n.p+"static/media/cat-nyan-cat.3172d2d4.gif"),re=function(){var e=Object(u.useState)({nyancat:!1}),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(u.useState)(I.isAdmin()),s=Object(i.a)(c,2),l=s[0];s[1];Object(u.useEffect)((function(){j()}),[]);var j=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.collection("game").doc("options").onSnapshot((function(e){var t=e.data();a(t)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(D.jsx)("div",{className:l&&"admin",children:n.nyancat&&Object(D.jsx)("div",{className:"nyan-cat show",children:Object(D.jsx)("img",{src:ce,alt:""})})})},se=function(){Object(T.g)();var e=Object(u.useState)(S.isAuthenticated),t=Object(i.a)(e,2),n=t[0],c=t[1];Object(u.useEffect)((function(){S.setup(),S.isAuthenticated(),l()}),[n]);var l=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.collection("tchat").onSnapshot((function(e){var t=[];e.forEach((function(e){var n=e.data().message;t=[].concat(Object(s.a)(t),[n])})),n&&N.b.dark(t[t.length-1],{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(D.jsxs)(C.Provider,{value:{isAuthenticated:n,setIsAuthenticated:c},children:[Object(D.jsx)(ee.a,{children:Object(D.jsxs)("div",{children:[n&&Object(D.jsx)("button",{className:"disconnect",onClick:function(){S.logout(),c(!1),N.b.dark("D\xe9j\xe0 fini ? \ud83d\ude32",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},children:"D\xe9connexion"}),Object(D.jsxs)(T.d,{children:[Object(D.jsx)(T.b,{exact:!0,path:"/",children:function(){return n?n&&I.isAdmin()?Object(D.jsx)(T.a,{to:"/admin"}):n&&!I.isAdmin()?Object(D.jsx)(T.a,{to:"/challenge"}):void 0:Object(D.jsx)(T.a,{to:"/login"})}}),Object(D.jsx)(T.b,{path:"/student_list",component:G}),Object(D.jsx)(T.b,{path:"/video",component:ae}),!n&&Object(D.jsx)(T.b,{path:"/login",render:function(e){return Object(D.jsx)(E,Object(a.a)({},e))}}),Object(D.jsx)(W,{path:"/challenge",component:$}),Object(D.jsx)(W,{path:"/create_team",component:K}),Object(D.jsx)(W,{path:"/final_page",component:B}),Object(D.jsx)(Z,{path:"/admin",component:U})]})]})}),Object(D.jsx)(N.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(D.jsx)(re,{}),Object(D.jsx)(N.a,{})]})},oe=document.getElementById("root");d.a.render(Object(D.jsx)(se,{}),oe)}},[[115,1,2]]]);
//# sourceMappingURL=main.5a3883e0.chunk.js.map